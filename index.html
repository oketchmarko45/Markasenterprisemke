<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Markas Enterprise MKE</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo-brand">
      <img src="Images/logo.png" alt="Markas Enterprise MKE Logo">
      <div class="brand-info">
        <h1 class="brand-name">Markas Enterprise MKE</h1>
        <p class="slogan">Make it a Reality</p>
      </div>
    </div>
    
    <!-- Hamburger Button -->
    <button class="menu-toggle" aria-label="Toggle menu" onclick="toggleMenu()">‚ò∞</button>

    <nav id="main-nav" aria-label="Main navigation">
      <a href="index.html">Home</a>
      <a href="#" data-page="about.html">About</a>
      <a href="#" data-page="kennel.html">Kennel</a>
             
      <div class="dropdown">
        <button class="dropbtn" aria-expanded="false">Stores Available</button>
        <div class="dropdown-content">
          <a href="#" data-page="petstore.html">Pet store</a>
          <a href="#" data-page="bookstore.html">Book store</a>
          <a href="#" data-page="cart.html">Cart</a>
        </div>
      </div>
    
      <a href="#" data-page="gallery.html">Gallery</a>
      <a href="#" data-page="support.html">Support</a>
      <a href="#" data-page="feedback.html">Feedback</a>
      <a href="#" data-page="donate.html">Donations</a>
      <a href="#" data-page="blog.html">Blog</a>
    </nav>

    <!-- Cart icon shown only on specific pages -->
    <div id="cart-icon" style="display: none;">
      <a href="#" data-page="cart.html" aria-label="Shopping cart">
        <i class="fas fa-shopping-cart"></i> 
        <span id="cart-count">0</span>
      </a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="content" id="main-content">
    <!-- Loading Indicator -->
    <div id="loading-indicator" class="loader" style="display: none;"></div>

    <!-- Slider -->
    <div class="slider" id="slider">
      <div class="slides">
        <img src="Images/slide1.jpg" loading="lazy" alt="Scoob and the CEO 2024 nov" />
        <img src="Images/slide2.jpg" loading="lazy" alt="Markas Enterprise event" />
        <img src="Images/slide3.jpg" loading="lazy" alt="Pet supplies and books" />
      </div>
      <div class="slider-buttons">
        <button id="prev" aria-label="Previous slide">&#10094;</button>
        <button id="next" aria-label="Next slide">&#10095;</button>
      </div>
    </div>

    <!-- Home Page Content -->
    <div id="home-content">
      <section class="intro">
        <h2>Who We Are</h2>
        <p>
          Markas Enterprise MKE is your trusted hub for everything dogs and more. From caring for our canine friends, sharing stories, offering essential pet supplies, to inspiring readers with heartfelt blogs‚Äîwe bring passion and expertise together to serve our community.
        </p>
      </section>

      <h1>Welcome to Markas Enterprise MKE</h1>
      <p>We're glad to have you here. Whether you're a dog lover, a reader, or someone who enjoys good stories and reliable services‚Äîthis is your space.</p>

      <section>
        <h2>üêæ The Kennel</h2>
        <p>Check out our beloved dogs, their stories, and what makes each one unique. We provide both adoption services and breeding information.</p>
        <a href="#" data-page="kennel.html">Visit Kennel &rarr;</a>
      </section>
       
      <div class="section-divider"></div>    
      
      <section>
        <h2>üõí Our Stores</h2>
        <p>We've got something for both pets and humans. Visit our Pet Store for essential supplies or browse books in our Book Store.</p>
        <a href="#" data-page="petstore.html">Pet Store &rarr;</a> | 
        <a href="#" data-page="bookstore.html">Book Store &rarr;</a>
      </section>
       
      <div class="section-divider"></div>    
      
      <section>
        <h2>üñºÔ∏è Gallery</h2>
        <p>View moments from events, adorable pet photos, and highlights from our day-to-day activities.</p>
        <a href="#" data-page="gallery.html">Explore Gallery &rarr;</a>
      </section>
       
      <div class="section-divider"></div>    
      
      <section>
        <h2>üìñ Blog</h2>
        <p>Catch up on stories, tips, and behind-the-scenes content straight from Mark the Dogtrovert!</p>
        <a href="#" data-page="blog.html">Read the Blog &rarr;</a>
      </section>
       
      <div class="section-divider"></div>    
      
      <section>
        <h2>üì£ Feedback & Support</h2>
        <p>We'd love to hear from you. Reach out for support or leave us feedback to help improve your experience.</p>
        <a href="#" data-page="support.html">Get Support</a> | 
        <a href="#" data-page="feedback.html">Leave Feedback</a>
      </section>
       
      <div class="section-divider"></div>    
          
      <section>
        <h2>üíñ Support Our Work</h2>
        <p>If you love what we do and want to help us grow, consider making a donation. Every bit helps us continue our mission.</p>
        <a href="#" data-page="donate.html">Donate Now &rarr;</a>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <h4>Markas Enterprise MKE</h4>
    <p>Created by 
     <a href="#" data-page="marksprofile.html">Ochieng' Mark Oketch </a>
     ‚Äì Dogtrovert, Writer, Developer</p>
    <p>Contact : <a href="mailto:markasenterprisemke@gmail.com">Markas Enterprise MKE via mail</a></p>

    <div class="social-links">
      <a href="https://whatsapp.com/channel/0029VaQvCIiAYlUSCFIT903y" target="_blank" rel="noopener noreferrer" aria-label="Whatsapp"><i class="fab fa-whatsapp"></i></a>
      <a href="https://www.facebook.com/markasenterprisemke" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
      <a href="https://youtube.com/@markasenterprisemke" target="_blank" rel="noopener noreferrer" aria-label="Youtube"><i class="fab fa-youtube"></i></a>
    </div>

    <p id="copyright"></p>
  </footer>

  <!-- Chatbot Container -->
  <div id="chatbot-container" class="chatbot-container">
    <div class="chatbot-header">
      <h3>MKE Pet Assistant</h3>
      <button id="chatbot-close" class="chatbot-close" aria-label="Close chatbot">√ó</button>
    </div>
    <iframe id="chatbot-iframe" src="petbot.html" class="chatbot-iframe" title="Chatbot"></iframe>
  </div>
  <button id="chatbot-toggle" class="chatbot-toggle" aria-label="Open chatbot">
    <i class="fas fa-paw"></i>
  </button>

 <script>
    // Initialize cart
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    // Update cart count
    function updateCartCount() {
      document.getElementById('cart-count').textContent = cart.length;
    }
    
    // Toggle cart icon visibility based on page
    function toggleCartIcon(page) {
      const showCart = ['kennel.html', 'petstore.html', 'bookstore.html', 'cart.html']
        .some(p => page.includes(p));
      document.getElementById('cart-icon').style.display = showCart ? 'block' : 'none';
    }
    
    // Menu toggle for mobile
    function toggleMenu() {
      const nav = document.getElementById('main-nav');
      nav.classList.toggle('show');
      document.querySelector('.menu-toggle').textContent = 
        nav.classList.contains('show') ? '‚úñ' : '‚ò∞';
    }
    
    // Initialize slider
    let currentSlide = 0;
    const slides = document.querySelector('.slides');
    const totalSlides = document.querySelectorAll('.slides img').length;
    
    function updateSlider() {
      slides.style.transform = `translateX(-${currentSlide * 100}%)`;
    }
    
    document.getElementById('next').addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateSlider();
    });
    
    document.getElementById('prev').addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateSlider();
    });
    
    // Auto-advance slides every 5 seconds
    setInterval(() => {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateSlider();
    }, 5000);
    
    // Page loading function
    async function loadPage(pageUrl) {
      try {
        // Show loading indicator
        document.getElementById('loading-indicator').style.display = 'block';
        document.getElementById('current-content').style.display = 'none';
        
        // Special case for home page
        if (pageUrl === 'index.html') {
          document.getElementById('current-content').innerHTML = `
            <!-- Home content here -->
            <div class="slider" id="slider">
              <div class="slides">
                <img src="Images/slide1.jpg" alt="Scoob and the CEO 2024 nov">
                <img src="Images/slide2.jpg" alt="Markas Enterprise event">
                <img src="Images/slide3.jpg" alt="Pet supplies and books">
              </div>
              <div class="slider-buttons">
                <button id="prev">&#10094;</button>
                <button id="next">&#10095;</button>
              </div>
            </div>
            <section class="intro">
              <h2>Who We Are</h2>
              <p>
                Markas Enterprise MKE is your trusted hub for everything dogs and more. From caring for our canine friends, sharing stories, offering essential pet supplies, to inspiring readers with heartfelt blogs‚Äîwe bring passion and expertise together to serve our community.
              </p>
            </section>
            <!-- Rest of home content -->
          `;
          
          // Reinitialize slider
          currentSlide = 0;
          updateSlider();
          document.getElementById('prev').addEventListener('click', () => {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateSlider();
          });
          document.getElementById('next').addEventListener('click', () => {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateSlider();
          });
          
          history.pushState({}, '', 'index.html');
        } 
        else {
          const response = await fetch(pageUrl);
          if (!response.ok) throw new Error('Page not found');
          
          const html = await response.text();
          document.getElementById('current-content').innerHTML = html;
          history.pushState({}, '', pageUrl);
        }
        
        // Update UI
        toggleCartIcon(pageUrl);
        updateCartCount();
        window.scrollTo(0, 0);
        
        // Close mobile menu if open
        const nav = document.getElementById('main-nav');
        if (nav.classList.contains('show')) toggleMenu();
        
      } catch (error) {
        console.error('Error loading page:', error);
        document.getElementById('current-content').innerHTML = `
          <div style="text-align: center; padding: 2rem;">
            <h2>Page Load Error</h2>
            <p>Sorry, we couldn't load the requested page.</p>
            <button onclick="loadPage('index.html')">Return to Home</button>
          </div>
        `;
      } finally {
        document.getElementById('loading-indicator').style.display = 'none';
        document.getElementById('current-content').style.display = 'block';
      }
    }
    
    // Handle back/forward navigation
    window.addEventListener('popstate', function() {
      const path = window.location.pathname.split('/').pop();
      if (path === 'index.html' || path === '') {
        loadPage('index.html');
      } else {
        loadPage(path);
      }
    });
    
    // Initialize copyright year
    document.getElementById('copyright').textContent = `¬© ${new Date().getFullYear()} Markas Enterprise MKE. All rights reserved.`;
    
    // Initialize cart count
    updateCartCount();
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      if (!event.target.matches('.dropbtn')) {
        const dropdowns = document.querySelectorAll('.dropdown-content');
        dropdowns.forEach(dropdown => {
          dropdown.style.display = 'none';
        });
      }
    });
  </script>
</body>
</html>
