<main class="content" style="font-family: Arial, sans-serif; background-color: #f9f9f9; margin: 0; padding: 20px;">
  <div style="max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);">
    <section style="margin-bottom: 20px;">
      <h2 style="color: #333;">ðŸ’– Support Our Work</h2>
      <p style="color: #555;">
        Your donation helps us continue our mission. Enter your details and
        choose a payment method below.
      </p>
    </section>

    <section style="margin-bottom: 25px;">
      <h3 style="color: #333;">Enter Your Donation Details</h3>
      <div>
        <label style="display: block; margin: 10px 0 5px;">Your Name:</label>
        <input type="text" id="donor-name" placeholder="Enter your name" required 
               style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px;">
        
        <label style="display: block; margin: 10px 0 5px;">Your Mobile Number (For MPESA):</label>
        <input type="tel" id="donor-phone" placeholder="Enter your phone number" required 
               style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px;">
        
        <label style="display: block; margin: 10px 0 5px;">Donation Amount (KES):</label>
        <input type="number" id="donation-amount" placeholder="Enter amount" min="100" required 
               style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px;">
        
        <div>
          <h3 style="color: #333;">Total Donation: Ksh <span id="total-amount">0</span></h3>
        </div>
      </div>
    </section>

    <section style="margin-bottom: 25px;">
      <h3 style="color: #333;">Choose Payment Method</h3>
      <div style="display: flex; justify-content: space-between; gap: 10px; margin-bottom: 20px;">
        <button id="mpesa-btn" style="flex: 1; padding: 12px; border: none; border-radius: 8px; cursor: pointer; 
                background-color: #ffc72c; color: #000; font-weight: bold; display: flex; align-items: center; 
                justify-content: center; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); transition: all 0.3s ease;">
          <i class="fas fa-mobile-alt" style="margin-right: 8px; font-size: 1.2em;"></i> MPESA
        </button>
        <button id="paypal-btn" style="flex: 1; padding: 12px; border: none; border-radius: 8px; cursor: pointer; 
                background-color: #003087; color: white; font-weight: bold; display: flex; align-items: center; 
                justify-content: center; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); transition: all 0.3s ease;">
          <i class="fab fa-paypal" style="margin-right: 8px; font-size: 1.2em;"></i> PayPal
        </button>
        <button id="bank-btn" style="flex: 1; padding: 12px; border: none; border-radius: 8px; cursor: pointer; 
                background-color: #28a745; color: white; font-weight: bold; display: flex; align-items: center; 
                justify-content: center; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); transition: all 0.3s ease;">
          <i class="fas fa-university" style="margin-right: 8px; font-size: 1.2em;"></i> Bank
        </button>
      </div>
    </section>

    <section style="text-align: center; margin-top: 20px;">
      <button id="manual-donate-btn" style="padding: 12px 24px; background-color: #6c757d; color: white; 
              border: none; border-radius: 4px; cursor: pointer; font-size: 16px; display: block; 
              margin: 0 auto; width: 80%; max-width: 300px; transition: background-color 0.3s;">
        How to Donate Manually
      </button>
    </section>
  </div>

  <!-- Modal Structure -->
  <div id="payment-instructions-modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; 
       width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); overflow: auto;">
    <div style="background-color: #fefefe; margin: 10% auto; padding: 25px; border: none; width: 90%; 
         max-width: 500px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); position: relative;">
      <span id="close-modal" style="position: absolute; right: 20px; top: 10px; color: #aaa; font-size: 28px; 
            font-weight: bold; cursor: pointer;">&times;</span>
      <h3>Manual Donation Instructions</h3>
      
      <div style="display: flex; margin-bottom: 15px; border-bottom: 1px solid #dee2e6;">
        <button id="mpesa-tab-btn" style="flex: 1; padding: 10px; background: #e9ecef; border: none; 
                border-bottom: 3px solid #007bff; cursor: pointer; color: #007bff; font-weight: bold;">
          MPESA
        </button>
        <button id="bank-tab-btn" style="flex: 1; padding: 10px; background: #e9ecef; border: none; 
                border-bottom: 3px solid transparent; cursor: pointer;">
          Bank Transfer
        </button>
      </div>
      
      <div id="mpesa-tab" style="display: block; padding: 10px 0;">
        <div style="background: #f8f9fa; padding: 15px; border-radius: 6px; margin-top: 15px; border-left: 4px solid #007bff;">
          <h4>Lipa na M-PESA</h4>
          <div style="counter-reset: step;">
            <div style="margin-bottom: 15px; padding-left: 20px; position: relative;">
              <span style="position: absolute; left: 0; background: #007bff; color: white; width: 20px; height: 20px; 
                    border-radius: 50%; text-align: center; line-height: 20px; font-size: 12px;">1</span>
              Go to <strong>M-PESA</strong> on your phone
            </div>
            <!-- Repeat for other steps with incrementing numbers -->
            <div style="margin-bottom: 15px; padding-left: 20px; position: relative;">
              <span style="position: absolute; left: 0; background: #007bff; color: white; width: 20px; height: 20px; 
                    border-radius: 50%; text-align: center; line-height: 20px; font-size: 12px;">2</span>
              Select <strong>Lipa na M-PESA</strong>
            </div>
            <!-- Add remaining steps similarly -->
          </div>
        </div>
      </div>
      
      <div id="bank-tab" style="display: none; padding: 10px 0;">
        <!-- Bank transfer content here -->
      </div>
      
      <button id="close-instructions" style="margin-top: 25px; padding: 10px 20px; background: #6c757d; 
              color: white; border: none; border-radius: 4px; cursor: pointer; width: 100%;">
        Close Instructions
      </button>
    </div>
  </div>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- JavaScript -->
  <script>
    // Initialize variables
    let donationAmount = 0;
    let selectedPaymentMethod = "mpesa";
    
    // Amount input handler
    document.getElementById('donation-amount').addEventListener('input', function() {
      donationAmount = parseInt(this.value) || 0;
      document.getElementById('total-amount').textContent = donationAmount >= 100 ? donationAmount : 0;
    });
    
    // Payment method selection
    const paymentButtons = ['mpesa-btn', 'paypal-btn', 'bank-btn'];
    paymentButtons.forEach(btnId => {
      document.getElementById(btnId).addEventListener('click', function() {
        selectedPaymentMethod = btnId.split('-')[0];
        paymentButtons.forEach(id => {
          document.getElementById(id).style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.1)';
        });
        this.style.boxShadow = '0 0 0 3px rgba(0, 0, 0, 0.1)';
      });
    });
    
    // Manual donation button
    document.getElementById('manual-donate-btn').addEventListener('click', function() {
      if (donationAmount < 100) {
        alert("Please enter a valid donation amount (minimum Ksh 100).");
        return;
      }
      document.getElementById('payment-instructions-modal').style.display = 'block';
      document.body.style.overflow = 'hidden';
    });
    
    // Modal controls
    document.getElementById('close-modal').addEventListener('click', closeModal);
    document.getElementById('close-instructions').addEventListener('click', closeModal);
    
    // Tab switching
    document.getElementById('mpesa-tab-btn').addEventListener('click', function() {
      switchTab('mpesa');
    });
    document.getElementById('bank-tab-btn').addEventListener('click', function() {
      switchTab('bank');
    });
    
    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
      if (event.target === document.getElementById('payment-instructions-modal')) {
        closeModal();
      }
    });
    
    // Helper functions
    function closeModal() {
      document.getElementById('payment-instructions-modal').style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    function switchTab(tabName) {
      document.getElementById('mpesa-tab').style.display = tabName === 'mpesa' ? 'block' : 'none';
      document.getElementById('bank-tab').style.display = tabName === 'bank' ? 'block' : 'none';
      document.getElementById('mpesa-tab-btn').style.borderBottom = 
        tabName === 'mpesa' ? '3px solid #007bff' : '3px solid transparent';
      document.getElementById('bank-tab-btn').style.borderBottom = 
        tabName === 'bank' ? '3px solid #007bff' : '3px solid transparent';
      document.getElementById('mpesa-tab-btn').style.color = 
        tabName === 'mpesa' ? '#007bff' : '#000';
      document.getElementById('bank-tab-btn').style.color = 
        tabName === 'bank' ? '#007bff' : '#000';
      document.getElementById('mpesa-tab-btn').style.fontWeight = 
        tabName === 'mpesa' ? 'bold' : 'normal';
      document.getElementById('bank-tab-btn').style.fontWeight = 
        tabName === 'bank' ? 'bold' : 'normal';
    }
  </script>
</main>
